# Redis Values File
# This file contains configuration for the shared Redis deployment
# Used by: Harbor and other platform components

# Architecture: replication (master-replica)
architecture: replication

# Authentication
auth:
  enabled: true
  # Password is managed via External Secrets
  # Reference: password: "env://REDIS_PASSWORD"

# Master Configuration
master:
  persistence:
    enabled: true
    size: 10Gi
    storageClass: fast-ssd
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

# Replica Configuration
replica:
  replicaCount: 2
  persistence:
    enabled: true
    size: 10Gi
    storageClass: fast-ssd
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

# Metrics
metrics:
  enabled: true
  serviceMonitor:
    enabled: true

# Security Context
securityContext:
  enabled: true
  fsGroup: 1001
  runAsUser: 1001

# Service Configuration
service:
  type: ClusterIP
  ports:
    redis: 6379

