# Vault Helm Chart Values
# Configuration optimized for laptop/low-resource environments
# Single instance deployment (non-HA) with reduced resource requirements

global:
  # Enable OpenShift compatibility (set to false for standard Kubernetes)
  openshift: false
  
  # TLS configuration
  tlsDisable: false

server:
  # Enable High Availability mode (disabled for laptop)
  ha:
    enabled: false
    replicas: 1
    # Anti-affinity rules (disabled for single replica)
    antiAffinity: "soft"
    # Config for raft storage backend (Integrated Storage)
    raft:
      enabled: true
      setNodeId: true
      # Storage configuration
      storage:
        # Storage class for persistent volumes
        # Use "standard" for minikube, or your cluster's default storage class
        storageClass: "standard"
        # Size of persistent volume (reduced for laptop)
        size: 2Gi
        # Access mode
        accessMode: ReadWriteOnce
  
  # Data storage configuration (for Integrated Storage)
  dataStorage:
    enabled: true
    storageClass: "standard"
    size: 2Gi
    accessMode: ReadWriteOnce
  
  # Resource limits and requests (reduced for laptop)
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  # Extra environment variables
  extraEnvironmentVars:
    VAULT_LOG_LEVEL: info
    VAULT_LOG_FORMAT: json
  
  # Service account configuration
  serviceAccount:
    create: true
    name: ""
  
  # Security context
  securityContext:
    runAsNonRoot: true
    runAsUser: 100
    fsGroup: 1000
  
  # Pod security context
  extraVolumes: []
  extraVolumeMounts: []
  
  # Service configuration
  service:
    enabled: true
    type: ClusterIP
    port: 8200
    annotations: {}
  
  # Ingress configuration (disabled by default)
  ingress:
    enabled: false
  
  # UI configuration
  ui:
    enabled: true
  
  # Audit device configuration
  auditStorage:
    enabled: false
  
  # Standalone mode (enabled for laptop - single instance)
  standalone:
    enabled: true

# Injector configuration (for automatic secret injection)
injector:
  enabled: true
  # Resource limits (reduced for laptop)
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

# CSI Provider configuration (optional)
csi:
  enabled: false

# Service monitor for Prometheus (optional)
serviceMonitor:
  enabled: false

# Network policies (optional)
networkPolicy:
  enabled: false

# Pod disruption budget (disabled for single replica)
podDisruptionBudget:
  enabled: false
  minAvailable: 1

# Priority class (optional)
priorityClassName: ""

# Node selector (optional)
nodeSelector: {}

# Tolerations (optional)
tolerations: []

# Affinity rules (additional to anti-affinity)
affinity: {}

# Extra labels
extraLabels: {}

# Extra annotations
extraAnnotations: {}

